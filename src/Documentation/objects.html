<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" type="image/x-icon" href="ico/favicon.ico" />

    <title>Objects - PuzzleScript Next Documentation</title>

    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="css/bootstrap-theme.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="../../assets/js/html5shiv.js"></script>
      <script src="../../assets/js/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../index.html"><img src="../images/mascot_colorful.png">Puzzlescript Next</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
              <li><a href="../editor.html">Make A Game</a></li>
              
              <li class="active"><a href="documentation.html">Documentation</a></li>
          </ul>          
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://discord.gg/3uumegUV7y">Discord</a></li>            
            <li><a href="https://groups.google.com/g/puzzlescript">Forum</a></li>
            <li><a href="https://github.com/david-pfx/PuzzleScriptNext">GitHub</a></li>
            <li><a href="about.html">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">



<p>
<ol class="breadcrumb">
  <li><a href="documentation.html">Documentation</a></li>
  <li>Sections</li>
  <li class="active">Objects</li>
</ol>
<p>

<h1>Sections of a PuzzleScript file</h1>
<p>
A puzzlescript file is divided into the following sections. 
<p>

  <ul class="nav nav-pills">
    <li><a href="prelude.html">Prelude</a></li>
    <li class="active"><a href="objects.html">Objects</a></li>
    <li><a href="legend.html">Legend</a></li>
    <li><a href="sounds.html">Sounds</a></li>
    <li><a href="collisionlayers.html">CollisionLayers</a></li>
    <li><a href="rules.html">Rules</a></li>
    <li><a href="winconditions.html">WinConditions</a></li>
    <li><a href="tags.html">Tags</a></li>
    <li><a href="mappings.html">Mappings</a></li>
    <li><a href="levels.html">Levels</a></li>
  </ul>

    <h2>Objects</h2>
    Here's where your in-game objects are all declared.  The simplest way is to give something a name and a color.
    <p>
    <pre><code>OBJECTS
=======      
Player P
Blue</code></pre>
    If you do this, the player will be a blue square. 
    <p>
    You can specify a sprite as a 5x5 grid as follows:
    <p>    
    <pre><code>Player P
PINK YELLOW #000000    
.222.
.000.
22122
.222.
.2.2.</code></pre>
	<p>Which gives you this wee fella: <img src="images/player.png"></p>

  <h3>Object Names</h3>
  <p>The first line is the name of the object, and aliases too if you like.
    So the extra <b>P</b> on the line is another name for the Player object (and you can have as many aliases as you like).
    This is convenient for creating single characters needed for putting objects into a level, but you can get the same result in the Legend section if you prefer.

  <h3>Colors</h3>
  <p>The second line is a list of colors. 
	  The available color names are as follows, but the exact shade of color is set according to the <b>palette</b> setting 
    in the <a href="prelude.html">prelude</a>.</p>
<blockquote><b><ul class="list-inline"><li>black</li><li>white</li><li>lightgray/grey</li><li>gray/grey</li><li>darkgray/grey</li>
  </li><li>red</li><li>darkred</li><li>lightred</li><li>brown</li><li>darkbrown</li><li>lightbrown</li><li>orange</li><li>yellow</li>
  <li>green</li><li>darkgreen</li><li>lightgreen</li><li>blue</li><li>lightblue</li><li>darkblue</li><li>purple</li><li>pink</li>
  <li>transparent</li></ul></b></blockquote>

  <p>See this <a href="../editor.html?demo=next/color_chart">Color Chart</a> for a display of the colors in the default palette. 
    You can change the palette if you like.</p>

  <p>Or you can use hex codes if you prefer. 
    <ul>
      <li>Three and four digit codes represent regular RGB colors, so <b>#FF00FF</b> is <span style="color:#ff00ff">magenta</span> 
        and <b>#0FF</b> is <span style="color: #0ff">cyan</span>.</li>
      <li>Four and eight digit codes represent RGBA colors, so <b>#0000FF80</b> is semi-transparent <span style="color:#0000FF80">blue</span> 
        and <b>#8888</b> is semi-transparent <span style="color: #8888">grey</span>.</li>
    </ul></p>

  <h3>The Grid</h3>
  <p>The third and following lines are rows of numeric digits making up the sprite grid (or they can be omitted, and then you just get a square). 
    The dots represent transparency, and the numbers 0..9 index the colors in the second line, for as many colors as there are.</p>

    <p>In the simple case each line is <b>sprite_size</b> in length and there are <b>sprite_size</b> of them.
    This defaults to 5x5, but you can set it set to a different value in the <a href="prelude.html">prelude</a>.</p>

  <p>The sprite grid can be smaller or larger, and does not have to be square.
    It will be rendered with the bottom left-hand corner aligned with the tile. 
    If it is larger, it will overflow and hide tiles above and to the right.
    You can use control this, see <a href="collisionlayers.html">CollisionLayers</a>.
  </p>

  <h3>Transforms <img src="../images/pspatt.png" title="Pattern:Script" height="16"></h3>
  <p>Following the sprite grid are one or more lines of object transforms.
    The transforms are executed in order, left to right, and modify the sprite grid as they do so.
    These are the things you can do.
<dl>
    <dt>copy:crate</dt>
    <dd>The sprite grid is replaced by one taken from another object, in this case the crate object.
      <p>
      Note: the <b>copy:</b> transform can be written on the first line, for compatibility. 
      This usage is deprecated.
    </dd>

    <dt>flip:right</dt>
    <dd>Mirrors the grid vertically, left <-> right. 
      As expected, <b>down</b> mirrors the grid horizontally, up <-> down.
      <p>
      The shorthands <b>-</b> and <b>|</b> do the same, horizontal and vertical.
    </dd>

    <dt>shift:down:3</dt>
    <dd>Shifts the pixels of the grid down 3, in a circular fashion. 
      Pixels falling off the bottom reappear at the top.
      You can use negative numbers too.
    </dd>

    <dt>rot:up:right</dt>
    <dd>Rotates the grid so that what was <b>up</b> is now <b>right</b>.
      In this case, that would be a 90 degree rotation.
    </dd>

    <dt>translate:right:5</dt>
    <dd>Moves the grid across 5 pixels to the right.
      You can use negative numbers too.
    </dd>
  </dl>
    <p>In each case of an absolute direction you can use the relative directions <b>> < ^ v</b> instead.
    This becomes important when used in conjunction with <a href="tags.html">tags</a>.</p>

<h3>Text Sprites</h3>

<p>Instead of a sprite matrix, you can create an object that displays as a string of text.
  You can see it working in <a href="https://david-pfx.github.io/PuzzleScriptNext/src/editor.html?demo=next/333">333</a>.
  Use it like this. 
</p>
<pre><code>s; purple; text: S
t; orange; text: tea for two
3; pink; text: 3
4; pink; text: 4
number8 scale: 0.5; green; text: 8
</code></pre>
    
<p>These are the things you can do.</p>

<dl>
  <dt>text: 2048</dt>
  <dd>The string of characters is trimmed and centred to fit in the cell. 
    Text objects use the custom font, or Monospace fallback, rather than the built-in font.
  </dd>
  <dt>scale: 0.8</dt>
  <dd>The text is scaled, relative to 1.0. </dd>
</dl>

    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
